Ricordate alcuni esempi di attacchi, e abbiamo visto esempi di che cosa può succedere quando si sfruttano alcune vulnerabilità, per esempio facendo una filtrazione di dati e minacciando di implicare questi dati, di un termine pubblicitario esemplare. Se vi ricordate, la base di questo tipo di attacchi è il cosiddetto web application attack, ovvero attacchi che sfruttano qualche vulnerabilità di qualche tipo attraverso applicazioni web. Quindi, come oggi, la maggior parte delle applicazioni sono web perché diventano più accessibili, allora la maggior parte degli attacchi derivano da web, anche perché necessariamente dovendo consentire l'accesso via web, le applicazioni devono esporre in qualche modo, altrimenti non sarebbero accessibili. Quindi c'è, come al solito, due esigenze contrastanti, da un lato quella di essere il più visibile possibile, il più esposto possibile, dall'altro quella di essere il più presente possibile, quindi sono due cose che vanno in contrasto e che vanno gestite. L'altra volta vi ho accennato, se vi ricordate, del passaggio da gestione dell'email per con i client e il gestione dell'email adesso con tutte le webmail, ma adesso si possono fondare, posso dire, una mappa di persone che usano ancora un client dedicato a queste lezioni, la maggior parte usa l'applicazione webbased perché sono più facili, più visibili a configurare cliente e offrono di base tutta una serie di protezioni. Non so come vi ricordi se il nomino Eudora sanno cosa è o se il nomino Underbird sanno cosa è. Magari forse sapete che cos'è Outlook o perché conoscete la versione web. In realtà Outlook nasce da un programma client di posta elettronica del gruppo Mindset, cioè del gruppo Office, se voi avete mai visto installato Office tra pacchetti Word, Excel, PowerPoint, Outlook. Loro, come gli altri, in quanto alla migrazione, hanno pensato, giustamente, che era meglio gestire, cioè farlo succedere via web. Però l'applicazione di per sé è quella che posta dentro a noi. Semplicemente l'interfaccia è web. Quindi, ripeto, questo ha portato a una larga esposizione di amplificazioni sul web e quindi significa che tutti i canali attraverso cui queste applicazioni sono accessibili diventano anche canali di possibile attacco. Quello che vedete in questa figura è un report che viene generato ogni 2-3 anni, dipende, dall'OAS, che è un'organizzazione non profit che si occupa di monitorare un po' la situazione di sicurezza globale, e diventano un riferimento perché gli esperti cercano di capire quali sono gli attacchi più frequenti e come ci si difende, come ci si può difendere. Come potete notare, dall'ultimo report del 2021 sono cambiate un po' di cose. Adesso le vedremo tutte nel dettagli, quindi non mi interessa che da questa figura vi rimanga qualcosa. Però io posso anticipare che a fine ora, nel momento in cui vedremo tra un po', che così come è successo anche nell'aggiornamento precedente dal 2017 al 2021, le voci di attacchi più che hanno scalato la classifica sia dal 27 al 21, sia adesso dal 21 al 35, sono quelle che hanno come principale elemento di vulnerabilità l'essere umano. Tutte le vulnerabilità che riguardano aspetti puramente tecnici, quindi bug dell'hardware o bug di qualche software, Magari per la DENAD può essere che rimandano o siano in graduatoria, in una posizione intermente, però alla volta successiva scendono perché nel frattempo vengono risolti come qualche peggio, viene pubblicato il report, quindi si sa come proteggere. Mentre invece le vulnerabilità che includono o che sono basate su una revolezza umana, purtroppo restano anche classiche, oppure da essere new entry passano al top della classifica. Ora, siccome queste numerabilità, questi attacchi, diciamo, cioè queste numerabilità sono molto diffuse, Andiamo a vedere in dettaglio, così ci rendiamo conto di cosa sono e avremo un'idea di come si possono fronteggiare. Ripeto, attualmente stiamo facendo un discorso di livello più alto, poi più avanti scenderemo un po' nel dettaglio tecnico di alcune di queste vulnerabilità e di come vengono gestite, di come vengono fronteggiate. Allora, cominciamo dal top della classifica. Questo, come potete notare, è rimasto invariato, cioè questa voce, broken access control, era al primo posto nell'ultima classifica ed è rimasta al primo posto in... Questo tipo di errori sono dovuti al fatto che, e qui c'è il fattore umano alla grande, e quindi prima era dalla volta scorsa e prima è rimasta adesso, sono errori dovuti principalmente la divulgazione di informazioni che riguardano la protezione dell'accesso. Quindi io ho un protocollo che controlla gli accessi a una determinata infrastruttura e questi protocolli di controllo vengono infranti perché con qualche tipo di approccio chi detiene le chiavi di accesso all'infrastruttura l'è pubblica quindi c'è un escluso delle chiavi per cui viene piovata l'infrastruttura questo è il problema principale ovviamente non è solo l'aspetto umano che viene messo in gioco in questo tipo di problema, ma è anche un aspetto tecnico. Per esempio, se vengono lasciati dei protocolli di comunicazione non sicuri, per cui le informazioni viaggiano in chiaro, anche se l'utente non pubblica che avete accesso, quelli in chiaro vengono comunque, insomma, facilmente accessibili. se vi ricordate l'altra volta vi ho fatto l'esempio del protocollo dell'IPS il protocollo HTTP è un protocollo che non prevede nessuna criptazione per cui se noi siamo nello stesso ramo a Ethernet di una LAN noi possiamo vedere il traffico in chiaro di NIP anche le password in nome dell'utente. Perché? Intanto perché è previsto così. E poi perché se anche le database che contiene le credenziali, le password sono in qualche modo criptate, per esempio per fare una funzione di hashing, cosa che accade abbastanza spesso ma neanche tanto, in ogni caso il viaggio, cioè il registro di informazione, ovvero la password, da l'utente terminata noi, la database che la deve verificare per fare il matching avviene in chiaro se non ci sono altri accorgimenti. Quindi quando vedremo, quando avremo qualche prova e vedremo con uno dei software che fanno l'analisi del traffico che i comandi post get, che sono quando qui vengono, diciamo, viaggiano in chiaro, vedrete che se noi proviamo a compilare un form con un passore, lo passore viaggia in chiaro, quindi si può facilmente, diciamo, ovviamente che cosa che cosa quali sono le evoluzioni primo ovviamente quello della retropoli quindi l'avvento della catetichesse è stato un grande aiuto così come anche l'accrittazione a un livello più basso dei canali di comunicazione Per esempio in questo caso è il WPA, quando voi accedete a una rete Wi-Fi, vi capita che vi chieda la password per accedere, quella password non è solo una password di accesso, in realtà è la chiave con cui i dati vengono criptati da noi alla stazione base, non alla gestione, che non la usiamo. questa accreditazione garantisce la riservatezza dei dati nei progetti limiti anche nella parte condivisa del canale di comunicazione cosa significa questo io sono se sono nello stesso ramo cioè significa quindi nel caso di comunicazione wireless nello stesso range di una determinata stazione base, io posso captare tutti i segnali che viaggiano da e verso la stazione base lato radio, però se la comunicazione è intattata non posso capire che sia intattata, d'accordo? Attenzione, questo è quello che vedremo, che è una cosa diversa rispetto al protocollo HTTPS, per esempio, per cui quello è un livello di amplificazione più elevato, a livello logico, però ci rivedremo e lo vedremo, e lo vedremo meglio. Ah, un altro, scusate, un altro modo per violare i protocolli di controllo di accesso, considerato che ormai tra HTTPS, tra redi mediamente sempre protette, la parte condivisa, la parte tecnica viene protetta, già in default, invece resta aperto il problema lato umano, abbiamo detto. E a parte il fatto di comunicare proprio la propria password direttamente, magari in maniera di danno su di qualcuno, un altro modo ancora oggi molto efficace per violare o comunque per cattire e penalizzare l'eccesso all'unificatore di sistema è quello di portare l'utente a una finita pagina di accesso rispetto al proprio sistema. Questo è quello che accade, poi come si arriva a questo, ovviamente non ci sono tanti, e li vedremo pure, però quello che sicuramente conoscete è il famoso self-hishing, per cui io mando all'utente un comunicato, un messaggio, e gli dico guarda che il tuo account sul sito delle poste sta scadendo, clicca qui per aggiornare prevedenzialmente. Una persona che non ha, che non presta attenzione, potrebbe privarsi, specialmente se ha l'account sul sito delle poste, il caso LinkedIn, che sia una pagina che è identica a quella che lo è in delle poste. Però in realtà non si accorge, perché magari non è, ci è fatto in questo caso l'url è diverso, quindi c'è un url leggermente cambiato e quindi mettere i suoi credenziali a chissà chi, il comune della credenza, chissà chi li avranno utilizzati per fare altre cose. Questo, come dicevo, è il motivo per cui vengono comunque, oggi vengono per determinate applicazioni, sono utilizzate alcuni criteri che rafforzano l'accesso i criteri di accesso a determinati ambiti per esempio fanno l'accessione del dottore quattro anni di quattro volte che cercano di limitare un po' questa cosa però per farvi un esempio considerate che quante persone ma anche tra di noi che siamo più preparati in questo argomento quanti di noi andiamo a guardare qual è l'url reale che andiamo ad appicchire se clicchiamo su link, difficilmente dobbiamo guardare, chi è che guarda la palla di stato del nostro browser per vedere la corrispondenza tra i link dove c'è scritto clicca qui e quello che andiamo ad appicchire veramente, capita raramente, quando ci sospettiamo, ma normalmente non proprio, pensate come c'è persone che questa cosa non la fanno mai, ma aggiungo, sono cose che a me possono sembrare banali, non è che può bastare, io ho cliccato qui, dovevo andare su questo post e si è aperto un'url che si chiama, ti frego, potenziali.com, invece ci sono dei domini che sfruttano la somiglianza dei caratteri non so se lo avete mai visto Microsoft per esempio oppure c'era LinkedIn in cui la prima L era LinkedIn anziché era S-L era una I maiuscola e diventa praticamente uno guarda indistinguibile uno non c'è neanche un genitore, però dico una persona media, quindi non è così complicato fare una cosa del genere, quindi è un problema che rimane top in classifica. Dal secondo posto, in salita dalla quinta posizione, c'è questo altro aspetto, cioè la cosiddetta mancata configurazione delle parti di sicurezza. Questa cosa è molto insidiosa, tant'è vero che è salita dal quinto al secondo posto, ma sarebbe anche molto facile da prevenire, eppure si trova appunto al secondo posto. Perché? Perché in questo caso comanda il fattore umano. Però qui, attenzione, il fattore umano in una posizione diversa rispetto a quella di poco fa. Mentre poco fa, quando parlavamo della propria access control, parlavamo della componente umana come utente, poi invece parliamo della componente umana come gestore della sicurezza. Quindi chi si occupa, o chi dovrebbe occuparsi di gestire la sicurezza di determinato sistema, non lo fa correttamente o non lo fa perché magari non conosce questo documento appena, per cui può succedere per esempio di installare delle componenti che non servono per il funzionamento del sistema ma che contemporaneamente lascia un'apertura che porta sul canale di rete oppure gli account restano o non utenti e password invariati oppure i sistemi di tracciamento degli errori forniscono dei log agli utenti che sono pubblicamente accessibili e quindi possono essere sfruttati in favore degli attacchi, oppure anche se io aggiorno i sistemi e quindi dimentico di applicare un particolare settaggio di sicurezza, oppure uso librerie deprecate perché per aggiornarmi sarebbe troppo costoso e quindi ancora più basso su cose vecchie tipo il classico flash di Adobe oppure librerie di .NET antiche, oppure i libri di database che non so come implementare diversamente da come sono implementati quindi fondamentalmente questo tipo di vulnerabilità sono legate al frattore umano principalmente sono legate alla mancanza di preparazione e di attenzione all'effetto di configurazione ma appunto come ho detto qua sarebbe molto facile venire proprio perché sono delle configurazioni errate fatte da persone che dovrebbero sapere cosa fare e come farlo vediamo allora se è un peccato Nonostante ciò, come potete vedere, negli ultimi anni questo tipo di vulnerabilità che era al quinto posto è salita al secondo posto. Significa che, uno, sono aumentati i sistemi o comunque sono aumentate le componenti che si espongono a attacchi senza essere protette a mano. e due, è diminuito l'attenzione, è diminuito l'attenzione alla preparazione di chi dovrebbe guardare queste cose, diciamo per pericolosamente. Terzo posto, componenti vulnerabili o diciamo scaduti, diciamo così, tecniche, significa un po' vecchi, non aggiornati. Anche in questo caso, sono vulnerabilità molto insidiose, perché possono, una volta scoperta qualche vulnerabilità, può essere sfruttata e fare molto danno, ma è così bene che l'impatto che ha avuto, cioè la pericolosità, anche in questo caso è salita al sesto, al terzo posto, ma anche in questo caso, come prima, sarebbe molto facile da prevenire, spesso discorso identico rispetto al primo ovvero le persone gli addetti diciamo alla gestione delle politiche di sicurezza di un determinato di una delle tante istituzioni dovrebbero occuparsi di gestire, di tenere aggiornato quello che serve ora qui non si tratta in realtà solo di aggiornamenti ma si tratta anche di utilizzare delle idee corrette e di fare le corrette impostazioni. Quello che, per esempio, prevede un'attività di monitoraggio dei log o di inventario delle versioni, dei software, dei componenti che sono installati e motorizzati, che andrebbe fatto con una cadenza frequente, mensile, trimestrale, può capitare che questa cosa non venga fatta, per vari motivi, perché la persona non è competente, perché ha un carico di lessi, perché viene sottomontato il problema, in ogni caso sono tutti aspetti sicuramente legati al fattore umano, per cui, diciamo, pur essendoci la soluzione tecnica, non viene applicata e quindi la vulnerabilità resta aperta. Ripeto, come potete notare, ai tre primi posti della classifica ci sono tre vulnerabilità che sono tutte e tre legate al fattore umano. Però, ripeto, mentre la prima ce la possiamo aspettare perché è legata all'utente, le altre due invece sono un po' sorprendenti perché in realtà sono legate a un comportamento non messo in atto da chi invece disaspetta che lo faccia, quindi questo lo vediamo abbastanza preoccupante, il fatto che sia una vita a questi due aspetti, queste vulnerabilità che sono diventate in questo modo è abbastanza preoccupante. E se vi ricordate il primo giorno vi ho detto, noi vedremo vulnerabilità di diverso tipo, vedremo anche come ci si difende, che cosa si è supplementato per attenuare questa vulnerabilità, ma quello che rimane aperto all'oggi che è il quarto ruolo. Questo purtroppo resta la nevodevole e lo sarà sempre a punto pari a un esempio di più, finché non si sviluppano le competenze e le coscienze un classico esempio di configurazione errada è questo non so quanti di voi hanno mai ho detto nessuno ha mai provato a mettere su un zip il web ho detto che sempre non l'avete mai provato giusto? non l'avete mai visto? no? questo qualche volta già facciamo un zip Quello che succede normalmente, voi lo sapete, è la struttura di un'url, l'avete mai visto? L'url lo avete studiato? L'url, perfetto, c'è un primo pezzo che è il protocollo, poi c'è, oppure altro, poi c'è i due punti, poi c'è un primo blocco che è l'indirizzo della macchina a cui io voglio collegare, l'indirizzo della macchina che fa girare il server e poi a seguire, nel caso della condizione web, cosa c'è? Slash. Il percorso interno ha qua il system della macchina che fa girare il server fino ad arrivare alla foglia che è, nel caso di un sito web, un file HTML che io poi scarico e visualizzo nel mio browser, giusto? In teoria, dall'esterno dovrebbero essere accessibili solo le risorse foglie, cioè materialmente un file, che sia un HTML, che sia un PDF, quello che volete voi, ma l'accesso alle risorse dentro la macchina dove c'è sempre un web dovrebbe essere limitato solo alla foglia dell'informazione richiesta. Quindi io cerco un file e lo apro. Basta. Purtroppo questo spesso non è così, perché alcuni server web, alcuni software che fanno la server, hanno come impostazione predeterminata l'accesso alla cartella che contiene i file quindi che significa questo? che se io nel mio url una cosa di questo tipo per cui io per esempio faccio leggere un file index che si inviene all'interno della cartella admin backup questo si può fare ma se lascio aperto l'accesso alla cartella togliendo l'ultimo pezzo dell'URL quindi quello che è il terminale del mio hardware di esplorazione all'interno del sistema della macchina server potrei avere accesso a tutti i file di quella cartella il server web per sua natura se io richiedo, anziché un file, una cartella, mi lista il contenuto della cartella. Questo cosa significa? Significa che a seconda di cosa c'è in quella cartella, l'utente, cioè chi sta dall'altra parte, può tranquillamente accedere ai file e fare quello che vuole. Finché si tratta, posto che è sempre sbagliato, se è un comportamento che io, il gestore del web, per essere il web, non lo voglio, non si dovrebbe poter fare quindi dovrei stare attenti a dimostrare perfettamente questa cosa quello che succede è che in realtà vado ad accedere a cartelle dove ci sono file che proprio non dovrebbero essere assolutamente accessibili all'esterno come per esempio un backup di base SQL un backup dei log di accesso di HTTP oppure il file con le password che potrebbe essere tranquillamente scaricato e utilizzato per scopi successivi quanti di voi hanno mai nessuno di voi quindi ha mai configurato un sito web, un server web sa di cosa parliamo quando parlo di htaccess quindi una cosa del genere l'avete mai vista voi? Questo è un bene, perché devo dire che ultimamente alcuni server web hanno invece questa impostazione attiva, cioè il fatto che non si possa visualizzare il contenuto di cartelle, a meno che in uno specifico, proprio esattamente, il file. per esempio un backup di un database SQL significa avere tutto quanto perché un database SQL è estro-mascice lo sapete no? avete visto un database SQL? questo lo sapete sì? giusto? avete mai visto? sì o no? ok altri problemi a parte diciamo questo potrebbe essere il primo elemento ovvero token dell'API che sono esposti direttamente al codice sorgente ovvero quando io ottengo dalla mia controparte con cui sto dialogando il token di accesso perché ho fatto il match con l'hotend e password ecco questo token potrebbe essere intercettato e utilizzato esternamente Per questo motivo i token oggi sono diventati intanto tutti molto nudi, vengono criptati pure e inoltre vengono a destinazione, vengono cash out. In questo modo è sicuro che anche cambiare un solo carattere di token significa che non viene valutato. Quello che viene toccato dopo che li avete indicati in alcuni siti, per cui c'erano spazi riservati, vi ritorna un'url, c'è una stringa molto nuda, tipicamente inizia con un elixir o un qualcosa e poi ci sono 64 o anche più caratteri, non so se siete venuti a caso. Quello è lo sdetto token di autenticazione, che viene utilizzato dal vostro browser per continuare la conversazione con il server essendo verificati, un po' come se fosse la chiave per continuare la conversazione. Ogni volta che il token viene utilizzato, viene validato lato server e vi dà la risposta corrispondente. Se questo token viene intercettato, chiunque altro può continuare la vostra sessione come si poste vuole. Quarto posto nella classifica, errori di criptografia. Anche in questo caso c'è una parte di una corrente umana, e ora vi dico perché, però qui la cosa è un po' diversa. Intanto osserviamo che siamo scesi rispetto all'ultimo posto, quindi quello che prima era al secondo posto adesso sono scesi al quarto posto. Questo è, diciamo, il fatto dell'errore di criptografia, è la mancata criptazione di alcuni dati, oppure la criptazione debole di alcuni dati. Qui ci devo fermare un minuto. Intanto distinguiamo due momenti della criptazione. Uno è il transito e l'altro è il cosiddetto dato a riposta. Quando criptare i dati? Di sicuro, fondamentalmente, bisognerebbe criptarli nel transito, cioè per fare in modo che chiunque si possa intromettere, supponendo che l'accesso al sistema dove i dati sono salvati sia più protetto, se non altro statisticamente, rispetto a quando i dati transitano, diciamo che normalmente bisognerebbe puntare un tanto a criptare i dati in transito. Questa cosa è un'attività a carico dei protocolli. Quindi, come vi ho detto poco fa, l'HTTPS è uno di questi, è un protocollo di alto livello di applicazione che si occupa di criptare i dati in transito. Il WPA è un protocollo di livello più basso che si occupa di criptare i dati in transito. Il WPA di cripto nel transito da la nostra stazione, la stazione base, l'HTTPS si occupa dell'amplificazione end-to-end, cioè da noi fino all'altra parte della conversazione. Però, una volta che il dato ha finito il suo transito, quindi ha viaggiato il trittato, quando arriva a questa direzione, ovviamente viene trittato. E a quel punto io cosa faccio? Posso scegliere salvare i dati in chiave o salvarli in maniera trittata. Quando io gestisco un database, normalmente si decide di salvare i dati in una forma più chiara questo lo vedremo meglio nel dettaglio in un paio di lezioni dedicate però vi anticipo fin da ora che già potete intuire in un database, per esempio se è quello un database relazionale dove l'indicizzazione delle tabelle avviene proprio sulla base di quello che i dati rappresentano, quindi per esempio io ordino una tabella sulla base di una data di nascita, oppure sulla base dell'ordine alfabetico, quello che ho detto prima. Questa cosa come diventa se io i dati ce li ho criptati? Come? Perché se io per esempio sto indicizzando una tabella, una grafica, ordinando per cognome, una cosa è avere i cognomi scritti in chiaro, Adamo sarà il primo, Sorce sarà l'ultimo e poi viene in mezzo i dati, no? Ma appena io cripto i dati, Sorce è stato diventa, Adamo è stato diventa, quindi quello che prima era il primo è stato finito, quello che prima era l'ultimo è stato finito. Quindi criptare i dati che concettualmente potrebbe esaurare il diritto, certo che si sono a un posto, non è così banale perché poi applicativamente io ho bisogno comunque di applicare delle procedure che consentano di fare la verificazione del problema sui dati fattati. Oppure devo provare a proteggere i dati custoditi in chiaro in qualche altro modo, per esempio impedendo l'accesso o limitando l'accesso ai dati anche localmente. Per alcuni tipi di dati oggi è obbligatoria la criptazione, anche se con questo comporta l'aumento di una complessità nella gestione dei dati stessi. In particolare, e ai fatti che sono obbligatori da criptare sono i dati che servono per il controllo degli eccessi, quindi le password, e i dati sensibili personali, per esempio il numero della carta di credito, il codice e cose del genere. Questo cosa fa? Ovviamente non cripta tutto quanto, cripta solo una parte, però critica la parte, intanto più critica dal punto di vista dell'impatto che potrebbe avere di trovare anche quei dati, ma soprattutto lascia una gestione della base di dati, una gestione recino della base di dati ancora buona. Cioè io se ho il nome e il cognome in chiaro, salvatore e soci, però la sua password è critica, non è che lo smetta a ordinare, a fare limitizzazione del password. Quindi il fatto che la password sia criptata non comporta grossi problemi. Però io vi sto parlando di un problema banale, anche in questo caso, da gestire la criptazione delle password. Sono algoritmi semplicissimi riesce e fanno una criptazione diciamo in tempo zero, con un peso nullo, eppure ad oggi trovate, potete trovare, tantissimi database che includono la tabella di controllo degli eccessi con i dati inviati, comprese nel passo 1. Questo purtroppo è un problema, tutt'oggi è abbastanza grave, quindi infatti lo trovate a quarto posto, anche se è un po' sceso, ma è sceso solo perché qualcuno ci sta fornendo delle procedure già fatte. Se fosse per solo l'aspetto umano, lo sarebbe ancora a secondo posto. Perché, ripeto, criptare comunque è un passaggio aggiuntivo e non sempre tutti sanno o possono o vogliono fare. Non so se è stato chiaro il discorso dei due momenti. Il transito e il riposo sono due cose diverse. Io posso fare transitare una password da me al server remoto in forma criptata perché il protocollo è sicuro e poi, a roto supposto, una volta decriptata dal protocollo, quando scende giù nella pila protocollare prima di arrivare al file system database, io la faccio arrivare in forma non criptata. Per conto posso avere un protocollo non sicuro che fa transitare la password in chiaro e poi avere una criptazione che mi salva la password in forma criptata. Ovviamente il massimo darebbe a legge del vostro. Transcribo, criptato e conservazione come criptata. Chiaro questo discorso? Sicuro? Ma voi a quante e quattro minuti ne sto parlando? Tutte queste cose le avete mai viste una volta in pratica? Le avete appese o le avete mai fatte? Eh sì, è un po' più seria di dire no. Sì, non le avete mai fatte, diciamo, solo come esempio, cioè non avete mai visto aspetti il server l'avete configurato o l'avete solo scritto su ORIGEN, quello e basta? L'avete provato? Allora, se intendiamo l'università, per quello che abbiamo fatto l'università, nella materia di sistemi operativi, abbiamo fatto architettura client-server No, hai fatto però di database in un caso specifico, dove si vede? Interazioni con il database all'università, mai fatti Abbiamo fatto una materia di basi di dati, abbiamo scritto un codice SQL per la creazione di database Abbiamo fatto soltanto le richieste a SQL per vedere le query che si potevano trovare non perché nel terminale si può fare direttamente oppure con pg optimismo è un altro pg admin quello di post 3s quella che ha la sua interfaccia permette di fare in azienda qualcosa io l'ho fatto però ovviamente non mi occupavo di andare a creare tutto da zero e ha qualcosa che magari già c'era, doveva soltanto sistemare qualcosa. Scegliamo la passivica, quinto posto delle vulnerabilità. Questo per fortuna pure sta scendendo, anche se ancora rimane nato. Tre dieci, diciamo, significa che sono molto diffuse, perché la passivica è lunga, noi ci troviamo alle prime dieci. Alla prima posizione c'è la cosiddetta vulnerabilità Command Inversion. Questa è molto bella e particolare, anche facile da difendersi, però bisogna sapere. Questa vulnerabilità riguarda attacchi che vengono percretati attraverso l'esecuzione di comandi remoti verso un host che è vulnerabile, quindi che non riesce a filtrare i comandi che vengono avviati all'esterno. Perché questo non riesce a farlo? Perché i comandi, adesso lo vedremo in quali esempi, questi comandi fanno parte dei comandi che normalmente dovrebbero essere dati all'host per svolgere il suo compito, per esempio in una server database. Questa cosa risulta possibile quando c'è un'applicazione che trasmette dati non sicuri forniti dall'utente, quindi quando la comunicazione viaggia su un canale non sicuro, ma anche quando noi lasciamo all'utente la possibilità di usare direttamente dei comandi sulla nostra applicazione server. esempio classico è la SQL injection ce ne sono tante injection però la SQL injection è quella più diffusa e anche in questo caso è quella più agile diciamo da sarebbe la più agile da gestire anche se ora vi dico come si fa e quindi è perché spesso non si fa qui vedete Allora, questo archivio che vedete qua è una classica forma di accesso a un database in cui l'url contiene il protocollo l'indirizzo della macchina a cui mi sto connettendo poi qui c'è la parte che riguarda la query da eseguire nel database remoto ok questa cosa che è una get del protocollo HTTP quindi io client mando questa richiesta sulla macchina remota diventa questo cioè viene interpretata sto accedendo a una database SQL viene interpretata e si trasforma in una query che può essere ad esempio questa SELECT asterisk FROM progetti WHERE categoria uguale COVID AND visible uguale 1, per esempio. Cioè io quindi cosa sto facendo? Una query sulla cartella oggetti con una condizione, dicono un filtro, sul campo categoria della cartella oggetti. io voglio vedere solo i record che nel campo categoria hanno questo valore, per esempio COVID, e poi questa parte che vedete qua, che qui non c'è, è la parte interna, cioè io, gestore della database, dico se ricevo questa richiesta, io compongo la query per rispondere a quella richiesta ma in più aggiungo una condizione ovvero faccio vedere solo quelle che io voglio che siano visibili quindi in tutti i record non solo vado a filtrare quelli che hanno COVID come valore del campo da decodificare ma in più aggiungo la condizione quelle che hanno il campo visibile uguale a 1 quindi cosa c'è? Per esempio, vedete questo database, ci sia una cartella progetti dove ci sia un campo alla teoria con un po' di cose e poi un campo visible con 1 e 0 secondo se voglio le domande che stanno. Questa parte è una parte che l'utente non vede, tutto questo l'utente non vede, tutto questo l'utente non lo vede. Io vedo questo, un attaccante che capisce che questa è la parte utile per comporre una query di questo tipo, tenta la prima, e che cosa fa? aggiunge alla stringa che andrà a comporre la query questa semplicissima parte un apice e due trattini i due trattini se vi ricordate in SQL che cosa sono? sono il delimitatore del commento per l'equivalente del doppio slash nei codici esergenti due frattini sono con me quindi se la macchina dall'altra parte riceve questa string così come diceva qua la interpreta e andrà a comporre la query però stavolta la query diventa questo se l'asterisco promo progetto uguale abice poi abice due frattini e tutto il resto. Cos'è successo ora? Che tutta questa parte è diventata commento. Quindi il database riceve, fammi vedere tutti i progetti in cui la categoria è codice, senza la condizione aggiuntiva. Fammi vedere tutti, sia quelli che il gestore aveva deciso di prendere visibili, sia quello che non sono questi quindi l'orario della paura ritorna in tutti i progetti sia quelli che hanno un flecco di rispetto sia quelli che hanno un flecco di rispetto questa cosa è molto ma molto, ma molto diffusa anche perché non è possibile proteggersi lasciando il mondo come è quindi se io voglio che il mio database debba essere acceduto in questo modo, non posso cambiare questo, non lo posso fare, e quindi molti non lo fanno perché lasciano stare, e molto spesso quando ci sono soluzioni di questo tipo l'attacco ha successo, Ed è un attacco, vedete, che non comporta, diciamo, nessun problema a lato server. Non si accorderà da nessuno che il database ha fornito in risposta dati che non dovevano essere forniti. Perché non è un'attività sospetta, ok? O quantomeno non lo è così direttamente. Allora una domanda potrebbe essere, ok, come si risolva questa cosa? Certo che la database dobbiamo accedere a quella dove dobbiamo fare, ma come facciamo? La soluzione a questo problema è l'utilizzo di uno strato software intermedio, cosiddetto API, che è un programma di interface, che non fa altro che mettersi in mezzo tra l'utente e il database da proteggere. In questo caso io la query non la faccio più così, o meglio, scusatemi, non la faccio più così, la faccio sempre così, ma dall'altra parte quello che accade non è la composizione diretta di una query, ma l'interpretazione con un software che lo fa e che controlla i token che sono contenuti nella richiesta iniziale della query in questo modo io posso accorgermi per esempio se ci sono i miei partiti e in quel caso trascurarli e non farli passare qual è il problema? che bisogna saperlo scrivere un API e implementarli e comunicare soprattutto agli utenti qual è l'interfaccia a questo punto con cui utilizzare la presa io non andrò più a fare una query, ma andrò a scrivere, chiamare una funzione dell'API che rilegge la cartella progetti. Siccome questa cosa comporta l'aerosoft raggiuntivo, spiegare alle persone come interfacciarsi, installare la propria macchina, altre cose che può capitare che non tutti facciano e quindi questo attacco ad oggi è ancora uno dei più utilizzati come avete visto è un minuto di passione altro esempio di injection, di codice, di code injection è il cosiddetto cross-site scripting o XSS XSS, XSS, XSS, XSS, XSS, XSS, XSS, XSS, XSS che cosa fa, ancora una volta si tratta di uso delle debolezze dovute a errori di programmazione delle pagine web, in questo caso, per cui l'utente può utilizzare o forzare l'esecuzione all'interno del server, perché non esiste nessun controllo, per cui guardate, qui io ho questa richiesta, per cui mando una stringa riguarda la ricerca, un motore di ricerca interno, su una stringa di testo che sia uguale alla scritta colib e questo come risultato mi fornisce un blocco di testo html che mi dice search form, ok, che è molto nuovo, io mando questa stringa e ritorna un'altra stringa che viene visualizzata come un singolo paragrafo ogni tempo in una pagina HTML che poi viene risposta. Se io questa string sostituisco un'altra cosa che per esempio è un'istruzione, un JavaScript, esempio questo, il server, se non è configurato completamente, legge questa richiesta e la segue, la passa, vede che è uno script, e genera, cioè interpreta l'esempio di istruzione al suo interno. In questo caso, l'istruzione al suo interno è cos'è? ALERT, che significa che è spuntato di qua, sul browser chiamante, dove io, come stringa da fare comparire, anziché una stringa con SISI, faccio comparire il cookie del documento, cioè l'identificatore della sessione. Quindi, quando ricevo in risposta quello che dovrei ricevere normalmente, ricevo il pop-up con dentro tutto quello che riguarda l'informazione della sessione. Per esempio questo, è il lavoro visualizzato qua. A partire da questo, avendo l'identificatore della sessione, posso impersonare l'utente e continuare a utilizzare le risorse in maniera non legge, non autorizzata, ok? Anche questo è un problema molto diffuso, si risolve facilmente perché basta disabilitare l'esecuzione di comandi di scritta che derivano direttamente dal canale ma se uno non lo sa e non ci pensa, questo resta e il problema rimane. Com'è stato risolto questo problema? È stato risolto disattivando alcuni, per alcuni linguaggi proprio completamente di linguaggio, proprio lo scripting, non esiste più la possibilità, mentre per altri è stata disattivata l'opzione di eseguire le comande riscritte che arrivano direttamente all'esercizio centrale al mondo quindi non bisogna saperlo non deve farlo opposto ma viene disattivato a prescindere e questa è una soluzione che ha ridotto e che ha consentito di fare scendere dalla classifica questo tipo di rimuneramento andiamo alla sesta posizione classifica stessa posizione progettazione progettazione non sicura attenzione alla parola progettazione design insicuro cosa significa che una cosa è insicura by design significa che c'è un problema in base che non si risolve, c'è un altro problema di implementazione sbagliata, che proprio non si cura per sua natura. Faccio l'esempio, il protocollo HTTP è insicuro per sua natura, non è che lo ha sbagliato, è nato insicuro, gli dite da fare, è per per risolvere il problema ne hanno dovuto fare un'altra, HTTPS, che è un'altra cosa. Svolge lo stesso compito, però è un'altra cosa. Prima, quando HTTPS non esisteva, un modo per cercare di risolvere quello era criptare ognuno a modo suo le comunicazioni. Però capite bene che poteva funzionare solo fra un ristretto numero di persone. quindi io posso mettermi d'accordo con un altro per usare un protocollo che definiamo noi perché io credo che non devo poter decretarlo. Poi, c'è stato l'avvento della HTTPS e a quel punto è stato un protocollo che mi sono detto è stato un altro protocollo, quindi quello è insicuro by design. ma l'ethernet è un protocollo in sicuro per progettazione, per design, non esiste, cioè non è che qualcuno dice, ah sai, il mio amico ha sviluppato il traffico, lui sia un hacker, è riuscito a capire, a vedere. Non bisogna essere atene. Internet è insicuro, le conversazioni bastano in tavola e le conversazioni sono viste da tutti. Quindi non c'è un'implementazione sbagliata, un bug o qualcosa. Nasce insicuro, va in esame. E purtroppo questo è un altro problema abbastanza diffuso, però siccome è legato alla progettazione, quindi qui il livello di competenza, di chi si occupa di questi aspetti è veramente elevato e soprattutto anche la coscienza, il chi si occupa di questi aspetti è aumentata, è cresciuta, allora c'è stata una maggior attenzione e quindi oggi i problemi di debolezza, di vulnerabilità by design e sono scesi nella classifica e sono arrivati al sesto posto ok? ora vi ho fatto due esempi che ancora oggi esistono Ethernet è il protocollo che usano tutti per la connessione della locale ed è insicuro per definizione nasce insicuro cioè non ci sono accorgimenti da fare a livello Ethernet per proteggere i dati che vi attengono su quel canale stiamo arrivando alla fine problemi al settimo posto ci sono problemi di autenticazione o di identificazione qui risaliamo un po' al discorso del come si realizza si realizzano diciamo queste queste due cose per esempio finché perché c'è stato solo una modella del password, alcuni tipi di attacchi venivano utilizzati e avevano successo. Uno dei più famosi sicuramente era l'attacco a forza muta. Non so quanti di voi l'avete mai sentito nominare. La forza muta è cosa è, non cosa è, ma cosa è il lettore. è un attacco per cui un bot viene istruito e prova materialmente a fare il login mandando una nota del password generata attualmente o in sequenza finché non becco la combinazione corretta. Come ci si protegge da un attacco a forza punita, per esempio? Ci si protegge limitando il numero di tentativi errati. Quello che noi oggi vediamo è un dato ormai una passi, cioè io faccio proprio 5 tentativi e uno mi dice attenzione, l'accesso è bloccato per i prossimi 5 minuti, l'accesso è bloccato per i prossimi 30 minuti, l'accesso è bloccato definitivamente, devi chiamare l'amministratore. Tutti questi accorgimenti sono accorgimenti che hanno consentito di limitare l'attacco a forza bruta per contrastare la legumerabilità di autenticazione e identificazione. Però in questa classe rientrano anche il fatto di mantenere le password in default, password e non open in default, o comunque deboli, inefficaci, oppure ancora il fatto di prevedere procedure di recupero delle password molto deboli. Vi faccio un esempio. Se io dimentico la password e per costruirla mi chiedono di Quindi il nome, il cognome da genitore di tua madre, capite bene che è una procedura molto debole, perché è facile, specialmente in una cecchia diciamo neanche troppo ristretta di persone, sapere qual è il cognome della madre, oppure nel nome del tuo primo animale, oppure il nome della tua città di nascita, no? Sono tutte cose abbastanza semplici. E sono cose che tuttora si vedono, o comunque in genere, le procedure che prevedono risposte basate sulla conoscenza, più che su quello che si è, piuttosto che su quello che si sa, piuttosto che su quello che si è, e allora sono tutte abbastanza deboli. Questo tipo di attacco, questa classe di antinumerabilità, scusatemi, rimane stabile in una posizione tutto sommato un pass in classifica perché ormai le procedure sia di recupero delle password che di forzatura del cambio di password o di utilizzo di password piuttosto forti hanno aiutato e continuano ad aiutare. Quindi il recupero non è più basato su quello che si sa, su quello che si è, oppure su un altro canale, per esempio quando le sms con il token per risolvere il problema, per dare la conferma, diciamo, del cambio della password, e così via. Ah, vorrei essere molto importante, giusto? In questa classe rientrano pure gli errori che abbiamo visto poco fa nella classe di errori fattografici, ovvero quando io salvo credenziali in chiaro e rientrano anche i problemi di diciamo di play chain, quindi quando io faccio viaggiare i token in chiaro nel token di sessione in chiaro anche in questo caso rientrano pure negli errori di praticazione perché materialmente consento ad altri di prendere la mia identità ok per l'ultima per s'ultima categoria di vulnerabilità sono gli errori di integrità o gli errori di affidabilità di software e di armi. In questo caso si tratta di vulnerabilità che vengono fuori dall'utilizzo di librerie, plug-in, moduli esterni, da fonti non attendibili. Sono tanti gli esempi nel tempo che hanno, diciamo, che rientrano in questa categoria. Per esempio, Shockwave, ma forse voi ne avreste portate, Shockwave era un plug-in che veniva utilizzato per consentire ai siti web di mostrare contenuti dinamici tipo animazioni o piccoli video che possano guidarli avanti. Io l'ho ritmato quello che ho iniziato. Sì, sì, però questo di qua era la riparazione. Eh, mi capite, io l'ho ritmato quello all'inizio dell'opera. Sì, sì, ti riterrò, sì. Ed è arrivato la mia vita all'intera, però non credo. Ok, va bene, grazie mille. Quindi stavo dicendo, l'Inglese temi un altro po' quello che consentiva di eseguire animazioni personalizzate in base agli utenti. Ma non è l'unico esempio, ce ne sono tantissimi. Ma quello era un plugin tutto sommato voluto, quindi l'utente era inavvisato che attenzione stai installando qualcosa che potrebbe causare dei problemi. In generale l'installazione di plugin esterni in voluta applicazione, ma in particolare nei browser web, è una fonte di vulnerabilità, che è stata risolta in due modi diversi uno impedendo l'installazione di questi plugin rendendola molto complicata nel senso che bisogna proprio volerlo oppure istituendo dei repository autenticati di plugin ammessi Per esempio, chi usa Firefox sa che ci sono i plug-in che sono tutti, o la maggior parte, dedicati, diciamo, direttamente da Mozilla Foundation, come sicuri e affidabili. Ma il problema maggiormente nasce non tanto da questo tipo di plug-in che vengono installati, diciamo, più che altro, diciamo, in maniera cosciente, ma da plug-in che potrebbero essere installati in maniera trasparente. Cioè se noi potrebbero essere alcune applicazioni che in automatico si aggiornano andando a scaricare pacchetti, software, magari tra test e fatti non autorizzati. Sia perché lo fanno perché lo vogliono fare, sia perché vengono reindirizzate in maniera malevola appositamente verso scaricare nel mattino un componente. Questo è un altro problema, però come potete notare si tratta di un problema che si trova a basso in classifica, perché? Perché a parte, diciamo, quello che abbiamo visto sui plugin per esempio del browser, dalla parte software adesso siamo sempre là, è un problema al monte, quindi chi codifica il software, chi realizza un software sa già come implementare le protezioni. Quindi diciamo che l'utente ha poco da preoccuparsi, relativamente poco da preoccuparsi e quindi non è una vulnerabilità molto estesa come impatto. La penultima vulnerabilità, anche questa abbastanza banale, però con possibili impatti notevoli, è quella che riguarda gli errori di monitoraggio, che di per sé non è una vulnerabilità tra le altre. Cioè, non apre una porta, diciamo, uno spiraglio a qualcuno per infilarsi nel sistema, ma più che altro è un problema legato alla scassa o mancata attività di logging degli eventi. Questo che cosa comporta? Comporta che, un, non mi accorgo, se non faccio il log degli eventi, potrei non accorgermi di attacchi in corso o avvenuti con successo. Quindi, secondo, con scritto monetario, cioè proprio la risposta. Secondo, c'è il motivo per cui questa attività potrebbe non essere implementata è che uno dice, vabbè, ma io per fare il logging di tutto quello che accade io ho bisogno di un preposito, devo memorizzare queste cose, ho bisogno di spazio quindi ho bisogno di una filiazione, la devo mantenere eccetera eccetera È complicato, oltretutto si raggiungono le regole, le cose vengono registrate, e allora non lo faccio dopo una notte. Ovviamente la conseguenza è che se non si avviene una registrazione degli eventi, quello che accade non può essere rilevato e quindi io potrei essere vittima di attacchi o di un bel tipo e non avere mai notizie, non avere mai notizie. per questo motivo molte applicazioni nascono già con un'attività di logging minimale attivata però la data di utenti, i gestori, la possibilità di salire con il livello, con la verbosità del logging non so quanti di voi hanno mai suonato un Linux per esempio ma Linux di per sé già nasce con anche Windows già vengono fornite all'installazione con un'impostazione minimale di quello che accade, di quello che facciamo, quindi chi è l'utente allogato, quanto tempo sta allogato e tutto il resto. Ovviamente poi si può aumentare il livello di tracciamento degli eventi mettendo dentro tutto, facendo diventare una bella e propria scatola nera per tutto il quadro. Piccolo problema. Dicevo allora, la cosa più bella è che io metto tutti i log al massimo livello, registro tutto, così fai prima o poi, se mi serve. Il problema è che quando metto tutto al massimo livello il log registra tutto, tutto, tutto. Se per caso qualcuno riesce ad accedere ai miei log, il log diventa un espongo di tutto quello che accade tra alcuni accessi che sono gli utenti e tutto quanto che potrebbe essere sfruttato per un ulteriore attacco quindi non solo serve mantenere un buon livello di lobbying per poter gestire per rilevare eventuali problemi ma è più importante proteggerli perché altrimenti diventa in una ponte di ulteriore vulnerabilità, che è quindi non solo vulnerabilità in quanto ma anche in lotte, ma pure se non ci sono, potrebbe diventare una vulnerabilità se non lo proteggo adeguatamente. E per finire, all'ultimo posto, anche se è una new entry, il che significa, se non è una new entry, significa che prima c'era, ma non aveva un un patto più elevante, non è nel termine 10, ma ora sta salendo, ovvero la gestione errata o mancata di condizioni eccezionali. Questo, come altri aspetti che abbiamo visto prima, sono la conseguenza di una sottovalutazione del problema, oppure di un rinvio a una fase e vi ricordate, oltre ieri o l'altra volta, cosa vi ho detto, cosa abbiamo discusso. Normalmente quando qualcuno sviluppa un'applicazione, prima pensa a sviluppare l'applicazione facendo di fare quello che deve fare. Dopo, quando sono sicuro che fa quello che deve fare, allora mi occupo di implementare gli aspetti di sicurezza. Il problema è che questo dopo faccio, spesso diventa magico ma soprattutto sempre perché si sottovaluta il problema ma soprattutto anche se questo dopo diventa ok, adesso lo faccio il tempo che intercorre da quando l'applicazione è disponibile a quando io implemento le mie protocolli di sicurezza diventa un tempo in cui l'applicazione è esposta e questo è l'intervallo di tempo entro cui vengono eseguiti gli attacchi che si chiamano zero day exploitations cioè spuntamento delle vulnerabilità a tempo zero cioè il tempo che io metto in disposizione la mia applicazione prima di mettere a punto le patch di sicurezza quello è un momento in cui la mia applicazione è esposta e le zero days sono quelle che fanno più danni in assoluto sono anche quelle statisticamente meno probabili proprio perché bisogna che qualcuno lo sa che io sto facendo un'applicazione oppure uno che proprio fa quello e continuamente cerca fa le sue volgamenti un altro giorno fa indagini a tappeto vedere se c'è una risposta in una porta e provo a fare dei tentativi ok ma non solo questo ovviamente, attenzione, sto parlando anche di altre problematiche, qui c'è scritto infatti esempio, io non gestisco la la concorrenza se è un'applicazione che ha diversi thread e c'è un errore nella gestione concorrente alla stessa zona di memoria potrebbe capitare che in determinate condizioni l'applicazione se ne va in uno stato inconsistente e non previsto e consente agli utenti e agli utenti e a chiunque di accedere, compromettendo fondamentalmente l'integrità intanto e tutto il resto, cioè una volta che l'applicazione non è più in uno stato di quelli che io ho programmato allora gli può succedere di tutto. Oppure non prevedo la gestione di eccezioni, per esempio quando si va fuori dai range se io gestisco un array e non gestisco l'eccezione che può capitare se faccio un indice quello va a portare l'applicazione in crash o comunque in uno stato inconsistente che potrebbe esporre il mio sistema a qualche sistema ok? va bene, quindi detto questo abbiamo finito la carrellata iniziale su quali sono gli aspetti molto generali delle vulnerabilità sia dei sistemi che delle reti, abbiamo anche fatto una panoramica su quelle che sono oggi le vulnerabilità più diffuse e anche più pericolose e abbiamo cercato di introdurre per ognuno di esse anche sia qual è l'anello debole, abbiamo detto che nelle prime posizioni c'è l'anello debole dell'umano, mentre invece per altre abbiamo detto un po' quali sono le soluzioni che sono state via via implementate o che si possono cambiare. A partire dalla prossima volta entreremo un po' più nel dettaglio e andremo a vedere, intanto a studiare bene, dare un nome alle cose, cercare di identificare bene la modulatura, faremo un'altra panoramica, un po' più in dettaglio però, sui protocolli e poi andremo a vedere tecnicamente alcune di queste accorgimenti di protezione rispetto ad alcune delle modulazioni che abbiamo visto come vengono implementate. Per esempio, vedremo per quanto riguarda l'injection, vedremo cosa significa, conosceremo il propondo che ci ha, quindi vedremo quali sono le sue debolezze, come ci si protegge e faremo un po' di prove. Se ci riusciamo, poi mi piacerebbe fare qualche prova, dicevo, anche con le vostre macchine, però diventa un po' complicato perché significa che sta andando poco su. Vediamo, questo ci pensiamo un po' in piano, vediamo un po' come sono ciò che è iniziale. Poi eventualmente questa difficoltà a portare il video, vediamo, perché ripeto, i laboratori, non abbiamo le macchine, hanno smontato l'auto, hanno avuto la forza, hanno avuto la forza di probabilizzare, quindi quest'anno ci vediamo, vediamo se ci sono esperienze, ci vediamo. va bene, ci vediamo